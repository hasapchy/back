# –£–ª—É—á—à–µ–Ω–∏—è —Å—Ç–∏–ª—è –∫–æ–¥–∞

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 2024-12-19*

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –ó–∞–º–µ–Ω–∞ `array()` –Ω–∞ `[]`
- ‚úÖ **ProductsRepository** - –∑–∞–º–µ–Ω–µ–Ω–æ `array()` –Ω–∞ `[]` (1 –º–µ—Å—Ç–æ)

### 2. –£–ª—É—á—à–µ–Ω–∏–µ PHPDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

–£–ª—É—á—à–µ–Ω—ã PHPDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö:

#### SalesRepository
- ‚úÖ –ú–µ—Ç–æ–¥ `buildSaleTransactionData()` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —Ç–∏–ø–∞–º–∏

#### WarehouseReceiptRepository
- ‚úÖ –ú–µ—Ç–æ–¥ `buildReceiptTransactionData()` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —Ç–∏–ø–∞–º–∏

#### ProductsRepository
- ‚úÖ –ú–µ—Ç–æ–¥ `getStocksMap()` - —É–ª—É—á—à–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π –∏ –º–∞—Å—Å–∏–≤–æ–≤
- ‚úÖ –ú–µ—Ç–æ–¥ `enrichProduct()` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –º–µ—Ç–æ–¥–∞

#### ProjectsRepository
- ‚úÖ –ú–µ—Ç–æ–¥ `transformProject()` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –º–µ—Ç–æ–¥–∞

#### LeaveRepository
- ‚úÖ –ú–µ—Ç–æ–¥ `applyFilters()` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ–∏–ª—å—Ç—Ä–æ–≤

#### CommentsRepository
- ‚úÖ –ú–µ—Ç–æ–¥ `applyUserAccessFilter()` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞

#### CategoriesRepository
- ‚úÖ –ú–µ—Ç–æ–¥ `applyUserFilter()` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

#### InvoicesRepository
- ‚úÖ –ú–µ—Ç–æ–¥ `prepareProductsData()` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–∞—Å—Å–∏–≤–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤

#### WarehouseMovementRepository
- ‚úÖ –ú–µ—Ç–æ–¥ `updateStocksForMovement()` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–£–ª—É—á—à–µ–Ω–æ PHPDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:** 9 –º–µ—Ç–æ–¥–æ–≤ –≤ 8 —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
- **–ó–∞–º–µ–Ω–µ–Ω–æ `array()` –Ω–∞ `[]`:** 1 –º–µ—Å—Ç–æ
- **–î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π:** –í—Å–µ –º–µ—Ç–æ–¥—ã —Ç–µ–ø–µ—Ä—å –∏–º–µ—é—Ç –ø–æ–ª–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —Ç–∏–ø–∞–º–∏

---

## üéØ –£–ª—É—á—à–µ–Ω–∏—è

### –î–æ:
```php
/**
 * –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏
 *
 * @param array $data –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
 * @return array –î–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
 */
```

### –ü–æ—Å–ª–µ:
```php
/**
 * –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏
 *
 * @param array<string, mixed> $data –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:
 *   - client_id (int) ID –∫–ª–∏–µ–Ω—Ç–∞
 *   - amount (float) –°—É–º–º–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
 *   - cash_id (int) ID –∫–∞—Å—Å—ã
 *   - category_id (int) ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
 *   - date (string) –î–∞—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
 *   - note (string|null) –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
 *   - user_id (int) ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 *   - project_id (int|null) ID –ø—Ä–æ–µ–∫—Ç–∞
 *   - currency_id (int) ID –≤–∞–ª—é—Ç—ã
 * @return array<string, mixed> –î–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
 */
```

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã

1. **–¢–∏–ø–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `array<string, mixed>` –∏–ª–∏ `array<int, float>` –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
2. **–û–ø–∏—Å–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:** –î–æ–±–∞–≤–ª—è—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö
3. **–û–ø–∏—Å–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:** –î–æ–±–∞–≤–ª—è—Ç—å –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –º–µ—Ç–æ–¥
4. **–¢–∏–ø—ã –∫–æ–ª–ª–µ–∫—Ü–∏–π:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `\Illuminate\Support\Collection<int>` –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–∏–ø–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

---

*–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –ª–∏–Ω—Ç–µ—Ä–æ–º - –æ—à–∏–±–æ–∫ –Ω–µ—Ç*


